{
"version":3,
"file":"goog.fx.animation.js",
"lineCount":175,
"mappings":"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",
"sources":["goog/fx/animation.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Classes for doing animations and visual effects.\n *\n * (Based loosly on my animation code for 13thparallel.org, with extra\n * inspiration from the DojoToolkit's modifications to my code)\n */\n\ngoog.provide('goog.fx.Animation');\ngoog.provide('goog.fx.Animation.EventType');\ngoog.provide('goog.fx.Animation.State');\ngoog.provide('goog.fx.AnimationEvent');\n\ngoog.require('goog.asserts');\ngoog.require('goog.events.Event');\ngoog.require('goog.fx.Transition');\ngoog.require('goog.fx.TransitionBase');\ngoog.require('goog.fx.anim');\ngoog.require('goog.fx.anim.Animated');\n\n\n\n/**\n * Constructor for an animation object.\n * @param {Array<number>} start Array for start coordinates.\n * @param {Array<number>} end Array for end coordinates.\n * @param {number} duration Length of animation in milliseconds.\n * @param {Function=} opt_acc Acceleration function, returns 0-1 for inputs 0-1.\n * @constructor\n * @struct\n * @implements {goog.fx.anim.Animated}\n * @implements {goog.fx.Transition}\n * @extends {goog.fx.TransitionBase}\n */\ngoog.fx.Animation = function(start, end, duration, opt_acc) {\n  'use strict';\n  goog.fx.Animation.base(this, 'constructor');\n\n  if (!Array.isArray(start) || !Array.isArray(end)) {\n    throw new Error('Start and end parameters must be arrays');\n  }\n\n  if (start.length != end.length) {\n    throw new Error('Start and end points must be the same length');\n  }\n\n  /**\n   * Start point.\n   * @type {Array<number>}\n   * @protected\n   */\n  this.startPoint = start;\n\n  /**\n   * End point.\n   * @type {Array<number>}\n   * @protected\n   */\n  this.endPoint = end;\n\n  /**\n   * Duration of animation in milliseconds.\n   * @type {number}\n   * @protected\n   */\n  this.duration = duration;\n\n  /**\n   * Acceleration function, which must return a number between 0 and 1 for\n   * inputs between 0 and 1.\n   * @type {Function|undefined}\n   * @private\n   */\n  this.accel_ = opt_acc;\n\n  /**\n   * Current coordinate for animation.\n   * @type {Array<number>}\n   * @protected\n   */\n  this.coords = [];\n\n  /**\n   * Whether the animation should use \"right\" rather than \"left\" to position\n   * elements in RTL.  This is a temporary flag to allow clients to transition\n   * to the new behavior at their convenience.  At some point it will be the\n   * default.\n   * @type {boolean}\n   * @private\n   */\n  this.useRightPositioningForRtl_ = false;\n\n  /**\n   * Current frame rate.\n   * @private {number}\n   */\n  this.fps_ = 0;\n\n  /**\n   * Percent of the way through the animation.\n   * @protected {number}\n   */\n  this.progress = 0;\n\n  /**\n   * Timestamp for when last frame was run.\n   * @protected {?number}\n   */\n  this.lastFrame = null;\n};\ngoog.inherits(goog.fx.Animation, goog.fx.TransitionBase);\n\n\n/**\n * @return {number} The duration of this animation in milliseconds.\n */\ngoog.fx.Animation.prototype.getDuration = function() {\n  'use strict';\n  return this.duration;\n};\n\n\n/**\n * Sets whether the animation should use \"right\" rather than \"left\" to position\n * elements.  This is a temporary flag to allow clients to transition\n * to the new component at their convenience.  At some point \"right\" will be\n * used for RTL elements by default.\n * @param {boolean} useRightPositioningForRtl True if \"right\" should be used for\n *     positioning, false if \"left\" should be used for positioning.\n */\ngoog.fx.Animation.prototype.enableRightPositioningForRtl = function(\n    useRightPositioningForRtl) {\n  'use strict';\n  this.useRightPositioningForRtl_ = useRightPositioningForRtl;\n};\n\n\n/**\n * Whether the animation should use \"right\" rather than \"left\" to position\n * elements.  This is a temporary flag to allow clients to transition\n * to the new component at their convenience.  At some point \"right\" will be\n * used for RTL elements by default.\n * @return {boolean} True if \"right\" should be used for positioning, false if\n *     \"left\" should be used for positioning.\n */\ngoog.fx.Animation.prototype.isRightPositioningForRtlEnabled = function() {\n  'use strict';\n  return this.useRightPositioningForRtl_;\n};\n\n\n/**\n * Events fired by the animation.\n * @enum {string}\n */\ngoog.fx.Animation.EventType = {\n  /**\n   * Dispatched when played for the first time OR when it is resumed.\n   * @deprecated Use goog.fx.Transition.EventType.PLAY.\n   */\n  PLAY: goog.fx.Transition.EventType.PLAY,\n\n  /**\n   * Dispatched only when the animation starts from the beginning.\n   * @deprecated Use goog.fx.Transition.EventType.BEGIN.\n   */\n  BEGIN: goog.fx.Transition.EventType.BEGIN,\n\n  /**\n   * Dispatched only when animation is restarted after a pause.\n   * @deprecated Use goog.fx.Transition.EventType.RESUME.\n   */\n  RESUME: goog.fx.Transition.EventType.RESUME,\n\n  /**\n   * Dispatched when animation comes to the end of its duration OR stop\n   * is called.\n   * @deprecated Use goog.fx.Transition.EventType.END.\n   */\n  END: goog.fx.Transition.EventType.END,\n\n  /**\n   * Dispatched only when stop is called.\n   * @deprecated Use goog.fx.Transition.EventType.STOP.\n   */\n  STOP: goog.fx.Transition.EventType.STOP,\n\n  /**\n   * Dispatched only when animation comes to its end naturally.\n   * @deprecated Use goog.fx.Transition.EventType.FINISH.\n   */\n  FINISH: goog.fx.Transition.EventType.FINISH,\n\n  /**\n   * Dispatched when an animation is paused.\n   * @deprecated Use goog.fx.Transition.EventType.PAUSE.\n   */\n  PAUSE: goog.fx.Transition.EventType.PAUSE,\n\n  /**\n   * Dispatched each frame of the animation.  This is where the actual animator\n   * will listen.\n   */\n  ANIMATE: 'animate',\n\n  /**\n   * Dispatched when the animation is destroyed.\n   */\n  DESTROY: 'destroy'\n};\n\n\n/**\n * @deprecated Use goog.fx.anim.TIMEOUT.\n */\ngoog.fx.Animation.TIMEOUT = goog.fx.anim.TIMEOUT;\n\n\n/**\n * Enum for the possible states of an animation.\n * @deprecated Use goog.fx.Transition.State instead.\n * @enum {number}\n */\ngoog.fx.Animation.State = goog.fx.TransitionBase.State;\n\n\n/**\n * @deprecated Use goog.fx.anim.setAnimationWindow.\n * @param {Window} animationWindow The window in which to animate elements.\n */\ngoog.fx.Animation.setAnimationWindow = function(animationWindow) {\n  'use strict';\n  goog.fx.anim.setAnimationWindow(animationWindow);\n};\n\n\n/**\n * Starts or resumes an animation.\n * @param {boolean=} opt_restart Whether to restart the\n *     animation from the beginning if it has been paused.\n * @return {boolean} Whether animation was started.\n * @override\n */\ngoog.fx.Animation.prototype.play = function(opt_restart) {\n  'use strict';\n  if (opt_restart || this.isStopped()) {\n    this.progress = 0;\n    this.coords = this.startPoint;\n  } else if (this.isPlaying()) {\n    return false;\n  }\n\n  goog.fx.anim.unregisterAnimation(this);\n\n  var now = /** @type {number} */ (goog.now());\n\n  this.startTime = now;\n  if (this.isPaused()) {\n    this.startTime -= this.duration * this.progress;\n  }\n\n  this.endTime = this.startTime + this.duration;\n  this.lastFrame = this.startTime;\n\n  if (!this.progress) {\n    this.onBegin();\n  }\n\n  this.onPlay();\n\n  if (this.isPaused()) {\n    this.onResume();\n  }\n\n  this.setStatePlaying();\n\n  goog.fx.anim.registerAnimation(this);\n  this.cycle(now);\n\n  return true;\n};\n\n\n/**\n * Stops the animation.\n * @param {boolean=} opt_gotoEnd If true the animation will move to the\n *     end coords.\n * @override\n */\ngoog.fx.Animation.prototype.stop = function(opt_gotoEnd) {\n  'use strict';\n  goog.fx.anim.unregisterAnimation(this);\n  this.setStateStopped();\n\n  if (opt_gotoEnd) {\n    this.progress = 1;\n  }\n\n  this.updateCoords_(this.progress);\n\n  this.onStop();\n  this.onEnd();\n};\n\n\n/**\n * Pauses the animation (iff it's playing).\n * @override\n */\ngoog.fx.Animation.prototype.pause = function() {\n  'use strict';\n  if (this.isPlaying()) {\n    goog.fx.anim.unregisterAnimation(this);\n    this.setStatePaused();\n    this.onPause();\n  }\n};\n\n\n/**\n * @return {number} The current progress of the animation, the number\n *     is between 0 and 1 inclusive.\n */\ngoog.fx.Animation.prototype.getProgress = function() {\n  'use strict';\n  return this.progress;\n};\n\n\n/**\n * Sets the progress of the animation.\n * @param {number} progress The new progress of the animation.\n */\ngoog.fx.Animation.prototype.setProgress = function(progress) {\n  'use strict';\n  this.progress = progress;\n  if (this.isPlaying()) {\n    var now = goog.now();\n    // If the animation is already playing, we recompute startTime and endTime\n    // such that the animation plays consistently, that is:\n    // now = startTime + progress * duration.\n    this.startTime = now - this.duration * this.progress;\n    this.endTime = this.startTime + this.duration;\n  }\n};\n\n\n/**\n * Disposes of the animation.  Stops an animation, fires a 'destroy' event and\n * then removes all the event handlers to clean up memory.\n * @override\n * @protected\n */\ngoog.fx.Animation.prototype.disposeInternal = function() {\n  'use strict';\n  if (!this.isStopped()) {\n    this.stop(false);\n  }\n  this.onDestroy();\n  goog.fx.Animation.base(this, 'disposeInternal');\n};\n\n\n/**\n * Stops an animation, fires a 'destroy' event and then removes all the event\n * handlers to clean up memory.\n * @deprecated Use dispose() instead.\n */\ngoog.fx.Animation.prototype.destroy = function() {\n  'use strict';\n  this.dispose();\n};\n\n\n/** @override */\ngoog.fx.Animation.prototype.onAnimationFrame = function(now) {\n  'use strict';\n  this.cycle(now);\n};\n\n\n/**\n * Handles the actual iteration of the animation in a timeout\n * @param {number} now The current time.\n */\ngoog.fx.Animation.prototype.cycle = function(now) {\n  'use strict';\n  goog.asserts.assertNumber(this.startTime);\n  goog.asserts.assertNumber(this.endTime);\n  goog.asserts.assertNumber(this.lastFrame);\n  // Happens in rare system clock reset.\n  if (now < this.startTime) {\n    this.endTime = now + this.endTime - this.startTime;\n    this.startTime = now;\n  }\n  this.progress = (now - this.startTime) / (this.endTime - this.startTime);\n\n  if (this.progress > 1) {\n    this.progress = 1;\n  }\n\n  this.fps_ = 1000 / (now - this.lastFrame);\n  this.lastFrame = now;\n\n  this.updateCoords_(this.progress);\n\n  // Animation has finished.\n  if (this.progress == 1) {\n    this.setStateStopped();\n    goog.fx.anim.unregisterAnimation(this);\n\n    this.onFinish();\n    this.onEnd();\n\n    // Animation is still under way.\n  } else if (this.isPlaying()) {\n    this.onAnimate();\n  }\n};\n\n\n/**\n * Calculates current coordinates, based on the current state.  Applies\n * the acceleration function if it exists.\n * @param {number} t Percentage of the way through the animation as a decimal.\n * @private\n */\ngoog.fx.Animation.prototype.updateCoords_ = function(t) {\n  'use strict';\n  if (typeof this.accel_ === 'function') {\n    t = this.accel_(t);\n  }\n  this.coords = new Array(this.startPoint.length);\n  for (var i = 0; i < this.startPoint.length; i++) {\n    this.coords[i] =\n        (this.endPoint[i] - this.startPoint[i]) * t + this.startPoint[i];\n  }\n};\n\n\n/**\n * Dispatches the ANIMATE event. Sub classes should override this instead\n * of listening to the event.\n * @protected\n */\ngoog.fx.Animation.prototype.onAnimate = function() {\n  'use strict';\n  this.dispatchAnimationEvent(goog.fx.Animation.EventType.ANIMATE);\n};\n\n\n/**\n * Dispatches the DESTROY event. Sub classes should override this instead\n * of listening to the event.\n * @protected\n */\ngoog.fx.Animation.prototype.onDestroy = function() {\n  'use strict';\n  this.dispatchAnimationEvent(goog.fx.Animation.EventType.DESTROY);\n};\n\n\n/** @override */\ngoog.fx.Animation.prototype.dispatchAnimationEvent = function(type) {\n  'use strict';\n  this.dispatchEvent(new goog.fx.AnimationEvent(type, this));\n};\n\n\n\n/**\n * Class for an animation event object.\n * @param {string} type Event type.\n * @param {goog.fx.Animation} anim An animation object.\n * @constructor\n * @struct\n * @extends {goog.events.Event}\n */\ngoog.fx.AnimationEvent = function(type, anim) {\n  'use strict';\n  goog.fx.AnimationEvent.base(this, 'constructor', type);\n\n  /**\n   * The current coordinates.\n   * @type {Array<number>}\n   */\n  this.coords = anim.coords;\n\n  /**\n   * The x coordinate.\n   * @type {number}\n   */\n  this.x = anim.coords[0];\n\n  /**\n   * The y coordinate.\n   * @type {number}\n   */\n  this.y = anim.coords[1];\n\n  /**\n   * The z coordinate.\n   * @type {number}\n   */\n  this.z = anim.coords[2];\n\n  /**\n   * The current duration.\n   * @type {number}\n   */\n  this.duration = anim.duration;\n\n  /**\n   * The current progress.\n   * @type {number}\n   */\n  this.progress = anim.getProgress();\n\n  /**\n   * Frames per second so far.\n   */\n  this.fps = anim.fps_;\n\n  /**\n   * The state of the animation.\n   * @type {number}\n   */\n  this.state = anim.getStateInternal();\n\n  /**\n   * The animation object.\n   * @type {goog.fx.Animation}\n   */\n  // TODO(arv): This can be removed as this is the same as the target\n  this.anim = anim;\n};\ngoog.inherits(goog.fx.AnimationEvent, goog.events.Event);\n\n\n/**\n * Returns the coordinates as integers (rounded to nearest integer).\n * @return {!Array<number>} An array of the coordinates rounded to\n *     the nearest integer.\n */\ngoog.fx.AnimationEvent.prototype.coordsAsInts = function() {\n  'use strict';\n  return this.coords.map(Math.round);\n};\n"],
"names":["goog","provide","require","fx","Animation","goog.fx.Animation","start","end","duration","opt_acc","base","Array","isArray","Error","length","startPoint","endPoint","accel_","coords","useRightPositioningForRtl_","fps_","progress","lastFrame","inherits","TransitionBase","prototype","getDuration","goog.fx.Animation.prototype.getDuration","enableRightPositioningForRtl","goog.fx.Animation.prototype.enableRightPositioningForRtl","useRightPositioningForRtl","isRightPositioningForRtlEnabled","goog.fx.Animation.prototype.isRightPositioningForRtlEnabled","EventType","PLAY","Transition","BEGIN","RESUME","END","STOP","FINISH","PAUSE","ANIMATE","DESTROY","TIMEOUT","anim","State","setAnimationWindow","goog.fx.Animation.setAnimationWindow","animationWindow","play","goog.fx.Animation.prototype.play","opt_restart","isStopped","isPlaying","unregisterAnimation","now","startTime","isPaused","endTime","onBegin","onPlay","onResume","setStatePlaying","registerAnimation","cycle","stop","goog.fx.Animation.prototype.stop","opt_gotoEnd","setStateStopped","updateCoords_","onStop","onEnd","pause","goog.fx.Animation.prototype.pause","setStatePaused","onPause","getProgress","goog.fx.Animation.prototype.getProgress","setProgress","goog.fx.Animation.prototype.setProgress","disposeInternal","goog.fx.Animation.prototype.disposeInternal","onDestroy","destroy","goog.fx.Animation.prototype.destroy","dispose","onAnimationFrame","goog.fx.Animation.prototype.onAnimationFrame","goog.fx.Animation.prototype.cycle","asserts","assertNumber","onFinish","onAnimate","goog.fx.Animation.prototype.updateCoords_","t","i","goog.fx.Animation.prototype.onAnimate","dispatchAnimationEvent","goog.fx.Animation.prototype.onDestroy","goog.fx.Animation.prototype.dispatchAnimationEvent","type","dispatchEvent","AnimationEvent","goog.fx.AnimationEvent","x","y","z","fps","state","getStateInternal","events","Event","coordsAsInts","goog.fx.AnimationEvent.prototype.coordsAsInts","map","Math","round"]
}
