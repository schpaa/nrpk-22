shadow$provide.module$node_modules$$firebase$util$dist$index_esm2017=function(global,require,module,exports){function deepExtend(target,source){if(!(source instanceof Object))return source;switch(source.constructor){case Date:return new Date(source.getTime());case Object:void 0===target&&(target={});break;case Array:target=[];break;default:return source}for(const prop in source)source.hasOwnProperty(prop)&&"__proto__"!==prop&&(target[prop]=deepExtend(target[prop],source[prop]));return target}function getUA(){return"undefined"!==
typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function isNode(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function replaceTemplate(template,data){return template.replace(PATTERN,(_,key)=>{_=data[key];return null!=_?String(_):`<${key}?>`})}function jsonEval(str){return JSON.parse(str)}function deepEqual(a,b){if(a===b)return!0;const aKeys=Object.keys(a),bKeys=Object.keys(b);for(const k of aKeys){if(!bKeys.includes(k))return!1;
const aProp=a[k],bProp=b[k];if(null!==aProp&&"object"===typeof aProp&&null!==bProp&&"object"===typeof bProp){if(!deepEqual(aProp,bProp))return!1}else if(aProp!==bProp)return!1}for(const k of bKeys)if(!aKeys.includes(k))return!1;return!0}function implementsAnyMethods(obj,methods){if("object"!==typeof obj||null===obj)return!1;for(const method of methods)if(method in obj&&"function"===typeof obj[method])return!0;return!1}function noop(){}function errorPrefix(fnName,argName){return`${fnName} failed: ${argName} argument `}
function promisifyRequest(request,errorMessage){return new Promise((resolve,reject)=>{request.onsuccess=event=>{resolve(event.target.result)};request.onerror=event=>{var _a;reject(`${errorMessage}: ${null===(_a=event.target.error)||void 0===_a?void 0:_a.message}`)}})}Object.defineProperty(exports,"__esModule",{value:!0});exports.areCookiesEnabled=function(){return"undefined"!==typeof navigator&&navigator.cookieEnabled?!0:!1};exports.async=function(fn,onError){return(...args)=>{Promise.resolve(!0).then(()=>
{fn(...args)}).catch(error=>{onError&&onError(error)})}};exports.calculateBackoffMillis=function(backoffCount,intervalMillis=1E3,backoffFactor=2){backoffCount=intervalMillis*Math.pow(backoffFactor,backoffCount);return Math.min(144E5,backoffCount+Math.round(.5*backoffCount*(Math.random()-.5)*2))};exports.contains=function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)};exports.createMockUserToken=function(token,projectId){if(token.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');
projectId=projectId||"demo-project";const iat=token.iat||0,sub=token.sub||token.user_id;if(!sub)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");token=Object.assign({iss:`https://securetoken.google.com/${projectId}`,aud:projectId,iat,exp:iat+3600,auth_time:iat,sub,user_id:sub,firebase:{sign_in_provider:"custom",identities:{}}},token);return[base64urlEncodeWithoutPadding(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding(JSON.stringify(token)),""].join(".")};
exports.createSubscribe=function(executor,onNoObservers){executor=new ObserverProxy(executor,onNoObservers);return executor.subscribe.bind(executor)};exports.deepCopy=function(value){return deepExtend(void 0,value)};exports.deepEqual=deepEqual;exports.deepExtend=deepExtend;exports.deleteDB=function(dbName){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise((resolve,reject)=>{try{const request=indexedDB.deleteDatabase(dbName);request.onsuccess=()=>{resolve()};request.onerror=
event=>{var _a;reject(`Error deleting indexedDB database "${dbName}": ${null===(_a=event.target.error)||void 0===_a?void 0:_a.message}`)}}catch(e){reject(`Error deleting indexedDB database "${dbName}": ${e.message}`)}})})};exports.errorPrefix=errorPrefix;exports.extractQuerystring=function(url){const queryStart=url.indexOf("?");if(!queryStart)return"";const fragmentStart=url.indexOf("#",queryStart);return url.substring(queryStart,0<fragmentStart?fragmentStart:void 0)};exports.getGlobal=function(){if("undefined"!==
typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw Error("Unable to locate global object.");};exports.getModularInstance=function(service){return service&&service._delegate?service._delegate:service};exports.getUA=getUA;exports.isBrowser=function(){return"object"===typeof self&&self.self===self};exports.isBrowserExtension=function(){const runtime="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;
return"object"===typeof runtime&&void 0!==runtime.id};exports.isElectron=function(){return 0<=getUA().indexOf("Electron/")};exports.isEmpty=function(obj){for(const key in obj)if(Object.prototype.hasOwnProperty.call(obj,key))return!1;return!0};exports.isIE=function(){const ua=getUA();return 0<=ua.indexOf("MSIE ")||0<=ua.indexOf("Trident/")};exports.isIndexedDBAvailable=function(){return"object"===typeof indexedDB};exports.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||
window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())};exports.isNode=isNode;exports.isNodeSdk=function(){return!0===CONSTANTS.NODE_CLIENT||!0===CONSTANTS.NODE_ADMIN};exports.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product};exports.isSafari=function(){return!isNode()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")};exports.isUWP=function(){return 0<=getUA().indexOf("MSAppHost/")};
exports.jsonEval=jsonEval;exports.map=function(obj,fn,contextObj){const res={};for(const key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(res[key]=fn.call(contextObj,obj[key],key,obj));return res};exports.openDB=function(dbName,dbVersion,upgradeCallback){return new Promise((resolve,reject)=>{try{const request=indexedDB.open(dbName,dbVersion);request.onsuccess=event=>{resolve(new DBWrapper(event.target.result))};request.onerror=event=>{var _a;reject(`Error opening indexedDB: ${null===(_a=
event.target.error)||void 0===_a?void 0:_a.message}`)};request.onupgradeneeded=event=>{upgradeCallback(new DBWrapper(request.result),event.oldVersion,event.newVersion,new TransactionWrapper(request.transaction))}}catch(e){reject(`Error opening indexedDB: ${e.message}`)}})};exports.ordinal=function(i){if(Number.isFinite(i)){{var JSCompiler_inline_result=Math.abs(i);const cent=JSCompiler_inline_result%100;10<=cent&&20>=cent?JSCompiler_inline_result="th":(JSCompiler_inline_result%=10,JSCompiler_inline_result=
1===JSCompiler_inline_result?"st":2===JSCompiler_inline_result?"nd":3===JSCompiler_inline_result?"rd":"th")}i+=JSCompiler_inline_result}else i=`${i}`;return i};exports.querystring=function(querystringParams){const params=[];for(const [key,value]of Object.entries(querystringParams))Array.isArray(value)?value.forEach(arrayVal=>{params.push(encodeURIComponent(key)+"\x3d"+encodeURIComponent(arrayVal))}):params.push(encodeURIComponent(key)+"\x3d"+encodeURIComponent(value));return params.length?"\x26"+
params.join("\x26"):""};exports.querystringDecode=function(querystring){const obj={};querystring.replace(/^\?/,"").split("\x26").forEach(token=>{if(token){const [key,value]=token.split("\x3d");obj[decodeURIComponent(key)]=decodeURIComponent(value)}});return obj};exports.safeGet=function(obj,key){if(Object.prototype.hasOwnProperty.call(obj,key))return obj[key]};exports.stringify=function(data){return JSON.stringify(data)};exports.validateCallback=function(fnName,argumentName,callback,optional){if((!optional||
callback)&&"function"!==typeof callback)throw Error(errorPrefix(fnName,argumentName)+"must be a valid function.");};exports.validateContextObject=function(fnName,argumentName,context,optional){if(!optional||context)if("object"!==typeof context||null===context)throw Error(errorPrefix(fnName,argumentName)+"must be a valid context object.");};exports.validateIndexedDBOpenable=function(){return new Promise((resolve,reject)=>{try{let preExist=!0;const request=self.indexedDB.open("validate-browser-context-for-indexeddb-analytics-module");
request.onsuccess=()=>{request.result.close();preExist||self.indexedDB.deleteDatabase("validate-browser-context-for-indexeddb-analytics-module");resolve(!0)};request.onupgradeneeded=()=>{preExist=!1};request.onerror=()=>{var _a;reject((null===(_a=request.error)||void 0===_a?void 0:_a.message)||"")}}catch(error){reject(error)}})};exports.validateNamespace=function(fnName,namespace,optional){if((!optional||namespace)&&"string"!==typeof namespace)throw Error(errorPrefix(fnName,"namespace")+"must be a valid firebase namespace.");
};exports.validateArgCount=exports.stringToByteArray=exports.stringLength=exports.issuedAtTime=exports.isValidTimestamp=exports.isValidFormat=exports.isAdmin=exports.decode=exports.base64urlEncodeWithoutPadding=exports.base64Encode=exports.base64Decode=exports.base64=exports.assertionError=exports.assert=exports.Sha1=exports.RANDOM_FACTOR=exports.MAX_VALUE_MILLIS=exports.FirebaseError=exports.ErrorFactory=exports.Deferred=exports.DBWrapper=exports.CONSTANTS=void 0;const CONSTANTS={NODE_CLIENT:!1,
NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};exports.CONSTANTS=CONSTANTS;const assert=function(assertion,message){if(!assertion)throw assertionError(message);};exports.assert=assert;const assertionError=function(message){return Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+message)};exports.assertionError=assertionError;const stringToByteArray$1=function(str){const out=[];let p=0;for(let i=0;i<str.length;i++){let c=str.charCodeAt(i);128>c?out[p++]=c:(2048>c?out[p++]=
c>>6|192:(55296===(c&64512)&&i+1<str.length&&56320===(str.charCodeAt(i+1)&64512)?(c=65536+((c&1023)<<10)+(str.charCodeAt(++i)&1023),out[p++]=c>>18|240,out[p++]=c>>12&63|128):out[p++]=c>>12|224,out[p++]=c>>6&63|128),out[p++]=c&63|128)}return out},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/\x3d"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+
"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(input,webSafe){if(!Array.isArray(input))throw Error("encodeByteArray takes an array as a parameter");this.init_();webSafe=webSafe?this.byteToCharMapWebSafe_:this.byteToCharMap_;const output=[];for(let i=0;i<input.length;i+=3){var byte1=input[i];const haveByte2=i+1<input.length;var byte2=haveByte2?input[i+1]:0;const haveByte3=i+2<input.length;var byte3=haveByte3?input[i+2]:0;const outByte1=byte1>>2;byte1=(byte1&3)<<4|byte2>>4;byte2=
(byte2&15)<<2|byte3>>6;byte3&=63;haveByte3||(byte3=64,haveByte2||(byte2=64));output.push(webSafe[outByte1],webSafe[byte1],webSafe[byte2],webSafe[byte3])}return output.join("")},encodeString(input,webSafe){return this.HAS_NATIVE_SUPPORT&&!webSafe?btoa(input):this.encodeByteArray(stringToByteArray$1(input),webSafe)},decodeString(input,webSafe){if(this.HAS_NATIVE_SUPPORT&&!webSafe)return atob(input);input=this.decodeStringToByteArray(input,webSafe);webSafe=[];let pos=0,c=0;for(;pos<input.length;){var c1=
input[pos++];if(128>c1)webSafe[c++]=String.fromCharCode(c1);else if(191<c1&&224>c1){var c2=input[pos++];webSafe[c++]=String.fromCharCode((c1&31)<<6|c2&63)}else if(239<c1&&365>c1){c2=input[pos++];var c3=input[pos++];const c4=input[pos++];c1=((c1&7)<<18|(c2&63)<<12|(c3&63)<<6|c4&63)-65536;webSafe[c++]=String.fromCharCode(55296+(c1>>10));webSafe[c++]=String.fromCharCode(56320+(c1&1023))}else c2=input[pos++],c3=input[pos++],webSafe[c++]=String.fromCharCode((c1&15)<<12|(c2&63)<<6|c3&63)}return webSafe.join("")},
decodeStringToByteArray(input,webSafe){this.init_();webSafe=webSafe?this.charToByteMapWebSafe_:this.charToByteMap_;const output=[];for(let i=0;i<input.length;){const byte1=webSafe[input.charAt(i++)],byte2=i<input.length?webSafe[input.charAt(i)]:0;++i;const byte3=i<input.length?webSafe[input.charAt(i)]:64;++i;const byte4=i<input.length?webSafe[input.charAt(i)]:64;++i;if(null==byte1||null==byte2||null==byte3||null==byte4)throw Error();output.push(byte1<<2|byte2>>4);64!==byte3&&(output.push(byte2<<4&
240|byte3>>2),64!==byte4&&output.push(byte3<<6&192|byte4))}return output},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={};this.charToByteMap_={};this.byteToCharMapWebSafe_={};this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&
(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};exports.base64=base64;const base64Encode=function(str){str=stringToByteArray$1(str);return base64.encodeByteArray(str,!0)};exports.base64Encode=base64Encode;const base64urlEncodeWithoutPadding=function(str){return base64Encode(str).replace(/\./g,"")};exports.base64urlEncodeWithoutPadding=base64urlEncodeWithoutPadding;const base64Decode=function(str){try{return base64.decodeString(str,
!0)}catch(e){console.error("base64Decode failed: ",e)}return null};exports.base64Decode=base64Decode;class Deferred{constructor(){this.reject=()=>{};this.resolve=()=>{};this.promise=new Promise((resolve,reject)=>{this.resolve=resolve;this.reject=reject})}wrapCallback(callback){return(error,value)=>{error?this.reject(error):this.resolve(value);"function"===typeof callback&&(this.promise.catch(()=>{}),1===callback.length?callback(error):callback(error,value))}}}exports.Deferred=Deferred;class FirebaseError extends Error{constructor(code,
message,customData){super(message);this.code=code;this.customData=customData;this.name="FirebaseError";Object.setPrototypeOf(this,FirebaseError.prototype);Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}exports.FirebaseError=FirebaseError;class ErrorFactory{constructor(service,serviceName,errors){this.service=service;this.serviceName=serviceName;this.errors=errors}create(code,...data){data=data[0]||{};const fullCode=`${this.service}/${code}`;code=(code=this.errors[code])?
replaceTemplate(code,data):"Error";return new FirebaseError(fullCode,`${this.serviceName}: ${code} (${fullCode}).`,data)}}exports.ErrorFactory=ErrorFactory;const PATTERN=/\{\$([^}]+)}/g,decode=function(token){let header={},claims={},data={},signature="";try{const parts=token.split(".");header=jsonEval(base64Decode(parts[0])||"");claims=jsonEval(base64Decode(parts[1])||"");signature=parts[2];data=claims.d||{};delete claims.d}catch(e){}return{header,claims,data,signature}};exports.decode=decode;exports.isValidTimestamp=
function(token){token=decode(token).claims;const now=Math.floor((new Date).getTime()/1E3);let validSince=0,validUntil=0;"object"===typeof token&&(token.hasOwnProperty("nbf")?validSince=token.nbf:token.hasOwnProperty("iat")&&(validSince=token.iat),validUntil=token.hasOwnProperty("exp")?token.exp:validSince+86400);return!!now&&!!validSince&&!!validUntil&&now>=validSince&&now<=validUntil};exports.issuedAtTime=function(token){token=decode(token).claims;return"object"===typeof token&&token.hasOwnProperty("iat")?
token.iat:null};exports.isValidFormat=function(token){token=decode(token).claims;return!!token&&"object"===typeof token&&token.hasOwnProperty("iat")};exports.isAdmin=function(token){token=decode(token).claims;return"object"===typeof token&&!0===token.admin};class Sha1{constructor(){this.chain_=[];this.buf_=[];this.W_=[];this.pad_=[];this.total_=this.inbuf_=0;this.blockSize=64;this.pad_[0]=128;for(let i=1;i<this.blockSize;++i)this.pad_[i]=0;this.reset()}reset(){this.chain_[0]=1732584193;this.chain_[1]=
4023233417;this.chain_[2]=2562383102;this.chain_[3]=271733878;this.chain_[4]=3285377520;this.total_=this.inbuf_=0}compress_(buf,offset){offset||(offset=0);const W=this.W_;if("string"===typeof buf)for(var i$jscomp$0=0;16>i$jscomp$0;i$jscomp$0++)W[i$jscomp$0]=buf.charCodeAt(offset)<<24|buf.charCodeAt(offset+1)<<16|buf.charCodeAt(offset+2)<<8|buf.charCodeAt(offset+3),offset+=4;else for(i$jscomp$0=0;16>i$jscomp$0;i$jscomp$0++)W[i$jscomp$0]=buf[offset]<<24|buf[offset+1]<<16|buf[offset+2]<<8|buf[offset+
3],offset+=4;for(buf=16;80>buf;buf++)offset=W[buf-3]^W[buf-8]^W[buf-14]^W[buf-16],W[buf]=(offset<<1|offset>>>31)&4294967295;buf=this.chain_[0];offset=this.chain_[1];i$jscomp$0=this.chain_[2];let d=this.chain_[3],e=this.chain_[4];let k;for(let i=0;80>i;i++){if(40>i)if(20>i){var f=d^offset&(i$jscomp$0^d);k=1518500249}else f=offset^i$jscomp$0^d,k=1859775393;else 60>i?(f=offset&i$jscomp$0|d&(offset|i$jscomp$0),k=2400959708):(f=offset^i$jscomp$0^d,k=3395469782);f=(buf<<5|buf>>>27)+f+e+k+W[i]&4294967295;
e=d;d=i$jscomp$0;i$jscomp$0=(offset<<30|offset>>>2)&4294967295;offset=buf;buf=f}this.chain_[0]=this.chain_[0]+buf&4294967295;this.chain_[1]=this.chain_[1]+offset&4294967295;this.chain_[2]=this.chain_[2]+i$jscomp$0&4294967295;this.chain_[3]=this.chain_[3]+d&4294967295;this.chain_[4]=this.chain_[4]+e&4294967295}update(bytes,length){if(null!=bytes){void 0===length&&(length=bytes.length);for(var lengthMinusBlock=length-this.blockSize,n=0,buf=this.buf_,inbuf=this.inbuf_;n<length;){if(0===inbuf)for(;n<=
lengthMinusBlock;)this.compress_(bytes,n),n+=this.blockSize;if("string"===typeof bytes)for(;n<length;){if(buf[inbuf]=bytes.charCodeAt(n),++inbuf,++n,inbuf===this.blockSize){this.compress_(buf);inbuf=0;break}}else for(;n<length;)if(buf[inbuf]=bytes[n],++inbuf,++n,inbuf===this.blockSize){this.compress_(buf);inbuf=0;break}}this.inbuf_=inbuf;this.total_+=length}}digest(){const digest=[];var totalBits=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-
(this.inbuf_-56));for(var i=this.blockSize-1;56<=i;i--)this.buf_[i]=totalBits&255,totalBits/=256;this.compress_(this.buf_);totalBits=0;for(i=0;5>i;i++)for(let j=24;0<=j;j-=8)digest[totalBits]=this.chain_[i]>>j&255,++totalBits;return digest}}exports.Sha1=Sha1;class ObserverProxy{constructor(executor,onNoObservers){this.observers=[];this.unsubscribes=[];this.observerCount=0;this.task=Promise.resolve();this.finalized=!1;this.onNoObservers=onNoObservers;this.task.then(()=>{executor(this)}).catch(e=>{this.error(e)})}next(value){this.forEachObserver(observer=>
{observer.next(value)})}error(error){this.forEachObserver(observer=>{observer.error(error)});this.close(error)}complete(){this.forEachObserver(observer=>{observer.complete()});this.close()}subscribe(nextOrObserver,error,complete){let observer;if(void 0===nextOrObserver&&void 0===error&&void 0===complete)throw Error("Missing Observer.");observer=implementsAnyMethods(nextOrObserver,["next","error","complete"])?nextOrObserver:{next:nextOrObserver,error,complete};void 0===observer.next&&(observer.next=
noop);void 0===observer.error&&(observer.error=noop);void 0===observer.complete&&(observer.complete=noop);nextOrObserver=this.unsubscribeOne.bind(this,this.observers.length);this.finalized&&this.task.then(()=>{try{this.finalError?observer.error(this.finalError):observer.complete()}catch(e){}});this.observers.push(observer);return nextOrObserver}unsubscribeOne(i){if(void 0!==this.observers&&void 0!==this.observers[i]&&(delete this.observers[i],--this.observerCount,0===this.observerCount&&void 0!==
this.onNoObservers))this.onNoObservers(this)}forEachObserver(fn){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,fn)}sendOne(i,fn){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[i])try{fn(this.observers[i])}catch(e){"undefined"!==typeof console&&console.error&&console.error(e)}})}close(err){this.finalized||(this.finalized=!0,void 0!==err&&(this.finalError=err),this.task.then(()=>{this.onNoObservers=this.observers=void 0}))}}exports.validateArgCount=
function(fnName,minCount,maxCount,argCount){let argError;argCount<minCount?argError="at least "+minCount:argCount>maxCount&&(argError=0===maxCount?"none":"no more than "+maxCount);if(argError)throw Error(fnName+" failed: Was called with "+argCount+(1===argCount?" argument.":" arguments.")+" Expects "+argError+".");};exports.stringToByteArray=function(str){const out=[];let p=0;for(let i=0;i<str.length;i++){var c=str.charCodeAt(i);if(55296<=c&&56319>=c){c-=55296;i++;assert(i<str.length,"Surrogate pair missing trail surrogate.");
const low=str.charCodeAt(i)-56320;c=65536+(c<<10)+low}128>c?out[p++]=c:(2048>c?out[p++]=c>>6|192:(65536>c?out[p++]=c>>12|224:(out[p++]=c>>18|240,out[p++]=c>>12&63|128),out[p++]=c>>6&63|128),out[p++]=c&63|128)}return out};exports.stringLength=function(str){let p=0;for(let i=0;i<str.length;i++){const c=str.charCodeAt(i);128>c?p++:2048>c?p+=2:55296<=c&&56319>=c?(p+=4,i++):p+=3}return p};exports.MAX_VALUE_MILLIS=144E5;exports.RANDOM_FACTOR=.5;class DBWrapper{constructor(_db){this._db=_db;this.objectStoreNames=
this._db.objectStoreNames}transaction(storeNames,mode="readonly"){return new TransactionWrapper(this._db.transaction.call(this._db,storeNames,mode))}createObjectStore(storeName,options){return new ObjectStoreWrapper(this._db.createObjectStore(storeName,options))}close(){this._db.close()}}exports.DBWrapper=DBWrapper;class TransactionWrapper{constructor(_transaction){this._transaction=_transaction;this.complete=new Promise((resolve,reject)=>{this._transaction.oncomplete=function(){resolve()};this._transaction.onerror=
()=>{reject(this._transaction.error)};this._transaction.onabort=()=>{reject(this._transaction.error)}})}objectStore(storeName){return new ObjectStoreWrapper(this._transaction.objectStore(storeName))}}class ObjectStoreWrapper{constructor(_store){this._store=_store}index(name){return new IndexWrapper(this._store.index(name))}createIndex(name,keypath,options){return new IndexWrapper(this._store.createIndex(name,keypath,options))}get(key){key=this._store.get(key);return promisifyRequest(key,"Error reading from IndexedDB")}put(value,
key){value=this._store.put(value,key);return promisifyRequest(value,"Error writing to IndexedDB")}delete(key){key=this._store.delete(key);return promisifyRequest(key,"Error deleting from IndexedDB")}clear(){const request=this._store.clear();return promisifyRequest(request,"Error clearing IndexedDB object store")}}class IndexWrapper{constructor(_index){this._index=_index}get(key){key=this._index.get(key);return promisifyRequest(key,"Error reading from IndexedDB")}}}
//# sourceMappingURL=module$node_modules$$firebase$util$dist$index_esm2017.js.map
