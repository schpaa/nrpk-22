goog.provide('lambdaisland.ornament');
/**
 * Prefixes to be stripped from class names in generated CSS
 */
lambdaisland.ornament._STAR_strip_prefixes_STAR_ = null;

/**
 * @interface
 */
lambdaisland.ornament.StyledComponent = function(){};

var lambdaisland$ornament$StyledComponent$classname$dyn_74581 = (function (_){
var x__5390__auto__ = (((_ == null))?null:_);
var m__5391__auto__ = (lambdaisland.ornament.classname[goog.typeOf(x__5390__auto__)]);
if((!((m__5391__auto__ == null)))){
return (m__5391__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5391__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5391__auto__.call(null,_));
} else {
var m__5389__auto__ = (lambdaisland.ornament.classname["_"]);
if((!((m__5389__auto__ == null)))){
return (m__5389__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5389__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5389__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("StyledComponent.classname",_);
}
}
});
/**
 * The CSS class name for this component, derived from the var and ns name.
 */
lambdaisland.ornament.classname = (function lambdaisland$ornament$classname(_){
if((((!((_ == null)))) && ((!((_.lambdaisland$ornament$StyledComponent$classname$arity$1 == null)))))){
return _.lambdaisland$ornament$StyledComponent$classname$arity$1(_);
} else {
return lambdaisland$ornament$StyledComponent$classname$dyn_74581(_);
}
});

var lambdaisland$ornament$StyledComponent$as_garden$dyn_74593 = (function (_){
var x__5390__auto__ = (((_ == null))?null:_);
var m__5391__auto__ = (lambdaisland.ornament.as_garden[goog.typeOf(x__5390__auto__)]);
if((!((m__5391__auto__ == null)))){
return (m__5391__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5391__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5391__auto__.call(null,_));
} else {
var m__5389__auto__ = (lambdaisland.ornament.as_garden["_"]);
if((!((m__5389__auto__ == null)))){
return (m__5389__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5389__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5389__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("StyledComponent.as-garden",_);
}
}
});
/**
 * Return the styles for this component in Garden syntax (i.e. EDN data)
 */
lambdaisland.ornament.as_garden = (function lambdaisland$ornament$as_garden(_){
if((((!((_ == null)))) && ((!((_.lambdaisland$ornament$StyledComponent$as_garden$arity$1 == null)))))){
return _.lambdaisland$ornament$StyledComponent$as_garden$arity$1(_);
} else {
return lambdaisland$ornament$StyledComponent$as_garden$dyn_74593(_);
}
});

var lambdaisland$ornament$StyledComponent$css$dyn_74604 = (function (_){
var x__5390__auto__ = (((_ == null))?null:_);
var m__5391__auto__ = (lambdaisland.ornament.css[goog.typeOf(x__5390__auto__)]);
if((!((m__5391__auto__ == null)))){
return (m__5391__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5391__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5391__auto__.call(null,_));
} else {
var m__5389__auto__ = (lambdaisland.ornament.css["_"]);
if((!((m__5389__auto__ == null)))){
return (m__5389__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5389__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5389__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("StyledComponent.css",_);
}
}
});
/**
 * Compile this component's styles to CSS
 */
lambdaisland.ornament.css = (function lambdaisland$ornament$css(_){
if((((!((_ == null)))) && ((!((_.lambdaisland$ornament$StyledComponent$css$arity$1 == null)))))){
return _.lambdaisland$ornament$StyledComponent$css$arity$1(_);
} else {
return lambdaisland$ornament$StyledComponent$css$dyn_74604(_);
}
});

var lambdaisland$ornament$StyledComponent$rules$dyn_74611 = (function (_){
var x__5390__auto__ = (((_ == null))?null:_);
var m__5391__auto__ = (lambdaisland.ornament.rules[goog.typeOf(x__5390__auto__)]);
if((!((m__5391__auto__ == null)))){
return (m__5391__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5391__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5391__auto__.call(null,_));
} else {
var m__5389__auto__ = (lambdaisland.ornament.rules["_"]);
if((!((m__5389__auto__ == null)))){
return (m__5389__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5389__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5389__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("StyledComponent.rules",_);
}
}
});
/**
 * Get the rules passed to this component, without any processing.
 */
lambdaisland.ornament.rules = (function lambdaisland$ornament$rules(_){
if((((!((_ == null)))) && ((!((_.lambdaisland$ornament$StyledComponent$rules$arity$1 == null)))))){
return _.lambdaisland$ornament$StyledComponent$rules$arity$1(_);
} else {
return lambdaisland$ornament$StyledComponent$rules$dyn_74611(_);
}
});

var lambdaisland$ornament$StyledComponent$tag$dyn_74612 = (function (_){
var x__5390__auto__ = (((_ == null))?null:_);
var m__5391__auto__ = (lambdaisland.ornament.tag[goog.typeOf(x__5390__auto__)]);
if((!((m__5391__auto__ == null)))){
return (m__5391__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5391__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5391__auto__.call(null,_));
} else {
var m__5389__auto__ = (lambdaisland.ornament.tag["_"]);
if((!((m__5389__auto__ == null)))){
return (m__5389__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5389__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5389__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("StyledComponent.tag",_);
}
}
});
/**
 * HTML tag (keyword) for this component
 */
lambdaisland.ornament.tag = (function lambdaisland$ornament$tag(_){
if((((!((_ == null)))) && ((!((_.lambdaisland$ornament$StyledComponent$tag$arity$1 == null)))))){
return _.lambdaisland$ornament$StyledComponent$tag$arity$1(_);
} else {
return lambdaisland$ornament$StyledComponent$tag$dyn_74612(_);
}
});

var lambdaisland$ornament$StyledComponent$component$dyn_74615 = (function (_){
var x__5390__auto__ = (((_ == null))?null:_);
var m__5391__auto__ = (lambdaisland.ornament.component[goog.typeOf(x__5390__auto__)]);
if((!((m__5391__auto__ == null)))){
return (m__5391__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5391__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5391__auto__.call(null,_));
} else {
var m__5389__auto__ = (lambdaisland.ornament.component["_"]);
if((!((m__5389__auto__ == null)))){
return (m__5389__auto__.cljs$core$IFn$_invoke$arity$1 ? m__5389__auto__.cljs$core$IFn$_invoke$arity$1(_) : m__5389__auto__.call(null,_));
} else {
throw cljs.core.missing_protocol("StyledComponent.component",_);
}
}
});
/**
 * Function which is a Hiccup component, for styled components which have one or more function tails.
 */
lambdaisland.ornament.component = (function lambdaisland$ornament$component(_){
if((((!((_ == null)))) && ((!((_.lambdaisland$ornament$StyledComponent$component$arity$1 == null)))))){
return _.lambdaisland$ornament$StyledComponent$component$arity$1(_);
} else {
return lambdaisland$ornament$StyledComponent$component$dyn_74615(_);
}
});

var lambdaisland$ornament$StyledComponent$as_hiccup$dyn_74616 = (function (_,args){
var x__5390__auto__ = (((_ == null))?null:_);
var m__5391__auto__ = (lambdaisland.ornament.as_hiccup[goog.typeOf(x__5390__auto__)]);
if((!((m__5391__auto__ == null)))){
return (m__5391__auto__.cljs$core$IFn$_invoke$arity$2 ? m__5391__auto__.cljs$core$IFn$_invoke$arity$2(_,args) : m__5391__auto__.call(null,_,args));
} else {
var m__5389__auto__ = (lambdaisland.ornament.as_hiccup["_"]);
if((!((m__5389__auto__ == null)))){
return (m__5389__auto__.cljs$core$IFn$_invoke$arity$2 ? m__5389__auto__.cljs$core$IFn$_invoke$arity$2(_,args) : m__5389__auto__.call(null,_,args));
} else {
throw cljs.core.missing_protocol("StyledComponent.as-hiccup",_);
}
}
});
/**
 * Render to hiccup
 */
lambdaisland.ornament.as_hiccup = (function lambdaisland$ornament$as_hiccup(_,args){
if((((!((_ == null)))) && ((!((_.lambdaisland$ornament$StyledComponent$as_hiccup$arity$2 == null)))))){
return _.lambdaisland$ornament$StyledComponent$as_hiccup$arity$2(_,args);
} else {
return lambdaisland$ornament$StyledComponent$as_hiccup$dyn_74616(_,args);
}
});

/**
 * Hiccup helper, add a CSS classname to an existing `:class` property
 * 
 *   We allow components to define `:class` as a string, a vector, or to use a
 *   styled component directly as a class. (This last behavior is to support some
 *   legacy code, we recommend using a wrapping vector in that case).
 * 
 *   This function handles these cases, and will always return a vector of class
 *   names.
 */
lambdaisland.ornament.add_class = (function lambdaisland$ornament$add_class(classes,class$){
if(typeof classes === 'string'){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [class$,classes], null);
} else {
if(cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword("lambdaisland.ornament","styled","lambdaisland.ornament/styled",29183747),new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(cljs.core.meta(classes)))){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [class$,cljs.core.str.cljs$core$IFn$_invoke$arity$1(classes)], null);
} else {
if(((cljs.core.sequential_QMARK_(classes)) && (cljs.core.seq(classes)))){
return cljs.core.vec(cljs.core.cons(class$,classes));
} else {
return new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.str.cljs$core$IFn$_invoke$arity$1(class$)], null);

}
}
}
});
/**
 * Handle expanding/rendering the component to Hiccup
 * 
 *   For plain [[defstyled]] components this simply adds the CSS class name. For
 *   components with a function tail this handles calling it, and handles setting
 *   attributes on the resulting element via metadata on the result.
 */
lambdaisland.ornament.expand_hiccup_tag = (function lambdaisland$ornament$expand_hiccup_tag(tag,css_class,args,component){
var attr_map_QMARK_ = cljs.core.map_QMARK_(cljs.core.first(args));
var attrs = ((attr_map_QMARK_)?cljs.core.first(args):null);
var children = ((attr_map_QMARK_)?cljs.core.next(args):args);
if(cljs.core.truth_(component)){
var child = cljs.core.apply.cljs$core$IFn$_invoke$arity$2(component,args);
var G__74478 = tag;
var G__74479 = css_class;
var G__74480 = new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.into.cljs$core$IFn$_invoke$arity$2((function (){var or__5043__auto__ = cljs.core.meta(child);
if(cljs.core.truth_(or__5043__auto__)){
return or__5043__auto__;
} else {
return cljs.core.PersistentArrayMap.EMPTY;
}
})(),cljs.core.select_keys(attrs,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"id","id",-1388402092),new cljs.core.Keyword(null,"class","class",-2030961996),new cljs.core.Keyword(null,"style","style",-496642736)], null))),child], null);
var G__74481 = null;
return (lambdaisland.ornament.expand_hiccup_tag.cljs$core$IFn$_invoke$arity$4 ? lambdaisland.ornament.expand_hiccup_tag.cljs$core$IFn$_invoke$arity$4(G__74478,G__74479,G__74480,G__74481) : lambdaisland.ornament.expand_hiccup_tag.call(null,G__74478,G__74479,G__74480,G__74481));
} else {
return cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [tag,cljs.core.update.cljs$core$IFn$_invoke$arity$4(attrs,new cljs.core.Keyword(null,"class","class",-2030961996),lambdaisland.ornament.add_class,css_class)], null),children);
}
});
lambdaisland.ornament.styled = (function lambdaisland$ornament$styled(varsym,css_class,tag,rules,component){
var render_fn = cljs.core.with_meta((function() { 
var G__74617__delegate = function (children){
return lambdaisland.ornament.expand_hiccup_tag(tag,css_class,children,component);
};
var G__74617 = function (var_args){
var children = null;
if (arguments.length > 0) {
var G__74618__i = 0, G__74618__a = new Array(arguments.length -  0);
while (G__74618__i < G__74618__a.length) {G__74618__a[G__74618__i] = arguments[G__74618__i + 0]; ++G__74618__i;}
  children = new cljs.core.IndexedSeq(G__74618__a,0,null);
} 
return G__74617__delegate.call(this,children);};
G__74617.cljs$lang$maxFixedArity = 0;
G__74617.cljs$lang$applyTo = (function (arglist__74619){
var children = cljs.core.seq(arglist__74619);
return G__74617__delegate(children);
});
G__74617.cljs$core$IFn$_invoke$arity$variadic = G__74617__delegate;
return G__74617;
})()
,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"type","type",1174270348),new cljs.core.Keyword("lambdaisland.ornament","styled","lambdaisland.ornament/styled",29183747)], null));
var component__$1 = (function (){var x74527 = render_fn;
(x74527.lambdaisland$ornament$StyledComponent$ = cljs.core.PROTOCOL_SENTINEL);

(x74527.lambdaisland$ornament$StyledComponent$classname$arity$1 = (function (_){
var ___$1 = this;
return css_class;
}));

(x74527.lambdaisland$ornament$StyledComponent$as_garden$arity$1 = (function (_){
var ___$1 = this;
return null;
}));

(x74527.lambdaisland$ornament$StyledComponent$css$arity$1 = (function (_){
var ___$1 = this;
return null;
}));

(x74527.lambdaisland$ornament$StyledComponent$rules$arity$1 = (function (_){
var ___$1 = this;
return null;
}));

(x74527.lambdaisland$ornament$StyledComponent$tag$arity$1 = (function (_){
var ___$1 = this;
return tag;
}));

(x74527.lambdaisland$ornament$StyledComponent$component$arity$1 = (function (_){
var ___$1 = this;
return component;
}));

(x74527.lambdaisland$ornament$StyledComponent$as_hiccup$arity$2 = (function (_,children){
var ___$1 = this;
return lambdaisland.ornament.expand_hiccup_tag(tag,css_class,children,component);
}));

(x74527.toString = (function (){
var _ = this;
return css_class;
}));

return x74527;
})();
Object.defineProperty(component__$1,"name",({"value": cljs.core.str.cljs$core$IFn$_invoke$arity$1(varsym)}));

return component__$1;
});

//# sourceMappingURL=lambdaisland.ornament.js.map
